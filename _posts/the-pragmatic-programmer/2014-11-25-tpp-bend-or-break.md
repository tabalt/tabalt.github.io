---

layout: post
title:  "第5章：弯曲，或折断"
date:   2014-11-25 12:30:00
tags: []

keywords: 弯曲，或折断,弯曲，或折断读书笔记
description: 《程序员修炼之道》第5章弯曲，或折断读书笔记

---

为了赶上今天近乎疯狂的变化步伐。我们须要尽一切努力编写尽可能宽松灵活的代码。否则，代码很快会变得过时、太脆弱、以至于难以修理，并最终可能会掉队。

### 26、解耦与得墨忒耳法则

编写羞怯的代码是有益的，羞怯的工作方式有两种：不向别人暴露自己，不与太多人打交道。把代码组织成最小组织单位（模块），并限制它们之间的交互，如果随后出于折中必须替换某个模块，其他模块仍能够正常运行。


**使耦合减至最少**

当我们要求某个对象完成特定服务时，我们想要它替我们完成该服务，不希望这个对象给我们一个第三方对象、必须加以处理才能获得所需服务。

有许多不必要的依赖关系的系统非常难以维护，往往高度不稳定，为了使依赖关系保持最少，可以使用得墨忒耳法则设计方法和函数。


**函数的得墨忒耳法则**

函数的得墨忒耳法则试图使模块之间的耦合减至最少，编写尽可能羞怯的代码。

遵守函数的得墨忒耳法则缩小了调用类中的响应集的规模，以这种方式设计的类的错误也往往更少，将使你的代码的适应性更好、更健壮，但也有代价：作为总承包人，你的模块必须之间委托并管理全部子承包人，而不牵涉你的模块的客户。

与任何技术一样，你必须平衡你的特定应用的各种正面因素和负面因素。事实上，通过反转得墨忒耳法则，使若干模块精密耦合，可以获得重大的性能改进。


### 27、元程序设计

细节会弄乱我们整洁的代码，特别是如果他们经常变化。把细节赶出代码，让我们的代码变得高度可配置和软和，也就是容易适应变化。

**动态配置**

`要配置，不要集成`

要用元数据描述应用的配置选项，调谐参数、用户偏好、安装目录等等。

元数据是关于数据的数据。最常见的例子是数据库schema或数据词典，在宽泛意义上，元数据是任何对应用进行描述的数据。在典型情况下，元数据是在运行时，而不是编译时被访问和使用。


**元数据驱动的应用**

尽可能多的通过元数据配置和驱动应用。

`将抽象放进代码，细节放进元数据`

这种方法的好处：

* 迫使你解除你的设计的耦合，从而带来更灵活、可适应性更好的程序
* 迫使你通过推迟细节处理，创建更健壮、更抽象的设计，完全推迟到程序之外
* 无需重新编译应用
* 与通用的变成语言的情况相比，可以通过一种大为接近问题领域的方法表示元数据
* 用相同的应用引擎，不同的元数据，实现若干不同的项目


**商业逻辑**

考虑在基于某种规则的系统（即专家系统）中对它们进行编码，并嵌入到你的应用中，这样，你讲通过编写规则、而不是修改代码类配置它。


**不要编写渡渡鸟代码**

没有元数据，你的代码就不可能获得它应有的适应性与灵活性。











更多有关[《程序员修炼之道》的读书笔记](http://tabalt.net/blog/the-pragmatic-programmer-reading-notes/)，请关注 ：  
[http://tabalt.net/blog/the-pragmatic-programmer-reading-notes/](http://tabalt.net/blog/the-pragmatic-programmer-reading-notes/)